$schema: http://json-schema.org/draft-07/schema#
title: Memory
description: Memory represents a grouped memory for a user, which can be a summary or a question-answer pair
type: object
properties:
  fragments:
    type: array
    items:
      $ref: "#/definitions/MemoryFragment"
    description: Fragments of memory content
  source:
    $ref: memory_source.yaml
    description: Source of the memory
  created_at:
    type: string
    format: date-time
    description: Timestamp of when the memory was created
  similarity:
    type: number
    description: Similarity score from vector search
  source_id:
    type: integer
    description: Id of the source document or conversation
  conversation_id:
    type: integer
    description: Id of the conversation this memory belongs to
required:
  - fragments
  - source
  - created_at
  - similarity
  - source_id
definitions:
  MemoryFragment:
    $ref: memory_fragment.yaml
