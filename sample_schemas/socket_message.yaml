$schema: http://json-schema.org/draft-07/schema#
title: SocketMessage
type: object
description: SocketMessage represents a response sent over WebSocket
properties:
  id:
    type: string
    description: Unique identifier for the message
  content:
    type: string
    description: Content of the response
  error:
    type: string
    description: Error message if any
  state:
    $ref: socket_stage_type.yaml
    description: State of the chat session
  session_id:
    type: string
    description: Session identifier
  timestamp:
    type: string
    format: date-time
    description: Timestamp of the response
  type:
    $ref: message_type.yaml
    description: Type of message
  progress:
    type: integer
    minimum: 0
    maximum: 100
    description: Progress percentage of the response, if applicable
  data:
    type: array
    items:
      type:
        - object
        - null
      additionalProperties: true
    description: Additional data related to the response, if any
  conversation_id:
    type: integer
    description: Identifier of the conversation associated with the response
  # metadata:
  #   $ref: chat_message_metadata.yaml
  #   description: Additional metadata related to the response, if any
required:
  - type
  - state
  - session_id
  - timestamp
  - id
